<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±–ª–æ–∫–∞ –ø–∏—Ç–∞–Ω–∏—è</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #c6d8e4, #f2f6f9);
      margin: 0;
      padding: 0;
      color: #333;
    }
    .tabs {
      display: flex;
      justify-content: center;
      margin-top: 30px;
    }
    .tab-button {
      padding: 10px 20px;
      border: none;
      background-color: #007bff;
      color: white;
      font-size: 16px;
      border-radius: 10px 10px 0 0;
      cursor: pointer;
      margin: 0 5px;
    }
    .tab-button.active {
      background-color: #0056b3;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .container {
      max-width: 720px;
      margin: 0 auto;
      padding: 40px;
      background: #fff;
      border-radius: 0 0 20px 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    }
    h1, h2 {
      text-align: center;
      color: #1f3b57;
    }
    label {
      display: block;
      margin-top: 20px;
      font-weight: 600;
    }
    input, select {
      width: 100%;
      padding: 14px;
      margin-top: 8px;
      border-radius: 12px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    button {
      margin-top: 30px;
      padding: 16px;
      width: 100%;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #0056b3;
    }
    .result, .history-entry {
      margin-top: 25px;
      background-color: #eaf4ea;
      padding: 20px;
      border-radius: 12px;
      color: #225c22;
      font-weight: bold;
      white-space: pre-line;
      position: relative;
    }
    .delete-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #dc3545;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 5px 10px;
      cursor: pointer;
    }
    .info {
      margin-top: 50px;
      padding: 25px;
      background-color: #f8f9fa;
      border-radius: 16px;
      font-size: 16px;
      line-height: 1.6;
      color: #444;
    }
    .info h2 {
      margin-bottom: 10px;
    }
    #clearAllBtn {
      margin-top: 20px;
      background-color: #6c757d;
    }
  </style>
</head>
<body>
  <div class="tabs">
    <button class="tab-button active">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</button>
    <button class="tab-button">–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤</button>
  </div>

  <div id="calculator" class="tab-content active">
    <div class="container">
      <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±–ª–æ–∫–∞ –ø–∏—Ç–∞–Ω–∏—è</h1>
      <label for="voltage">–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ª—å—Ç–∞–∂:</label>
      <select id="voltage">
        <option value="12">12 –í</option>
        <option value="24">24 –í</option>
      </select>
      <label for="wattPerUnit">–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ (–í—Ç –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É):</label>
      <input type="number" id="wattPerUnit" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 10" />
      <label for="quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
      <input type="number" id="quantity" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 5" />
      <label for="unitType">–¢–∏–ø –µ–¥–∏–Ω–∏—Ü—ã:</label>
      <select id="unitType">
        <option value="–º–µ—Ç—Ä—ã">–º–µ—Ç—Ä—ã</option>
        <option value="—à—Ç—É–∫–∏">—à—Ç—É–∫–∏</option>
      </select>
      <button onclick="calculatePower()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
      <div class="result" id="result"></div>
      <div class="info">
        <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
        <p>–ë–ª–æ–∫–∏ –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ <strong>12–í</strong> –æ–±—ã—á–Ω–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ –±—ã—Ç–æ–≤—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö ‚Äî –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏, –ª–µ–Ω—Ç –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –≤—ã–≤–µ—Å–æ–∫.<br><strong>24–í</strong> –±–ª–æ–∫–∏ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –±–æ–ª–µ–µ –º–æ—â–Ω—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π: –æ–Ω–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –∏ –º–µ–Ω—å—à–µ–µ –ø–∞–¥–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –Ω–∞ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç—Ä–µ–∑–∫–∞—Ö.</p>
        <p>–í—Å–µ–≥–¥–∞ —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –∑–∞–ø–∞—Å –ø–æ –º–æ—â–Ω–æ—Å—Ç–∏ ‚Äî –º–∏–Ω–∏–º—É–º <strong>30%</strong> –æ—Ç —Å—É–º–º–∞—Ä–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è.<br>–ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ <strong>400 –í—Ç</strong> —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <strong>–Ω–µ—Å–∫–æ–ª—å–∫–æ –±–ª–æ–∫–æ–≤</strong> –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏.</p>
      </div>
    </div>
  </div>

  <div id="history" class="tab-content">
    <div class="container">
      <h2>–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤</h2>
      <button id="clearAllBtn" onclick="clearAllHistory()">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
      <div id="historyList"></div>
    </div>
  </div>

  <script>
    document.querySelectorAll('.tab-button').forEach(button => {
      button.addEventListener('click', () => {
        const tabId = button.textContent.includes('–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä') ? 'calculator' : 'history';
        openTab(tabId, button);
      });
    });

    function openTab(tabId, clickedButton) {
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
      clickedButton.classList.add('active');
      document.getElementById(tabId).classList.add('active');
    }

    function calculatePower() {
      const wattPerUnit = parseFloat(document.getElementById('wattPerUnit').value);
      const quantity = parseFloat(document.getElementById('quantity').value);
      const voltage = parseFloat(document.getElementById('voltage').value);
      const unitType = document.getElementById('unitType').value;
      const resultElement = document.getElementById('result');

      if (isNaN(wattPerUnit) || isNaN(quantity) || wattPerUnit <= 0 || quantity <= 0) {
        resultElement.innerText = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.';
        return;
      }

      const totalPower = wattPerUnit * quantity;
      const reservePower = totalPower * 0.3;
      const recommendedPower = totalPower + reservePower;

      let output = `–¢–∏–ø –µ–¥–∏–Ω–∏—Ü—ã: ${unitType}
–í—ã–±—Ä–∞–Ω–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ: ${voltage} –í
–û–±—â–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: ${totalPower.toFixed(1)} –í—Ç
–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –∑–∞–ø–∞—Å 30%: ${reservePower.toFixed(1)} –í—Ç
–ò—Ç–æ–≥–æ–≤–∞—è –º–æ—â–Ω–æ—Å—Ç—å –±–ª–æ–∫–∞ –ø–∏—Ç–∞–Ω–∏—è: ${recommendedPower.toFixed(1)} –í—Ç`;

      if (recommendedPower > 400) {
        const blocks = Math.ceil(recommendedPower / 400);
        const blockPower = Math.ceil(recommendedPower / blocks);
        output += `
‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è ${blocks} –±–ª–æ–∫(–∞/–æ–≤) –ø–∏—Ç–∞–Ω–∏—è, –∫–∞–∂–¥—ã–π –º–æ—â–Ω–æ—Å—Ç—å—é –Ω–µ –º–µ–Ω–µ–µ ${blockPower} –í—Ç.`;
      } else {
        output += `
‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –æ–¥–∏–Ω –±–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ ${Math.ceil(recommendedPower)} –í—Ç.`;
      }

      resultElement.innerText = output;
      saveToHistory(output);
    }

    function saveToHistory(text) {
      const historyList = document.getElementById('historyList');
      const entry = document.createElement('div');
      entry.className = 'history-entry';

      const now = new Date();
      const formattedDate = now.toLocaleDateString('ru-RU');
      const formattedTime = now.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
      const timestamp = `üïí ${formattedDate} ${formattedTime}`;

      const content = document.createElement('div');
      content.innerText = `${timestamp}
${text}`;

      const deleteBtn = document.createElement('button');
      deleteBtn.className = 'delete-btn';
      deleteBtn.innerText = '–£–¥–∞–ª–∏—Ç—å';
      deleteBtn.onclick = () => entry.remove();

      entry.appendChild(deleteBtn);
      entry.appendChild(content);
      historyList.prepend(entry);
    }

    function clearAllHistory() {
      document.getElementById('historyList').innerHTML = '';
    }
  </script>
</body>
</html>
